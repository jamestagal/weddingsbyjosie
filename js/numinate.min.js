(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){"use strict";var n={from:0,to:0,runningInterval:null,stepInterval:null,stepCount:null,stepUnit:null,format:"%counter%",class:"numinate",precision:0,autoStart:!0,autoRemove:!1,onCreate:null,onStart:null,onStep:null,onStop:null,onComplete:null,onRemove:null},t=function(e,t){if(!t.runningInterval&&!t.stepInterval)return window.console.error("No interval was provided.");var s,n=Math.abs(t.from-t.to);if(!t.stepCount&&!t.stepUnit)return window.console.error("Provide either stepCount or stepUnit value.");t.stepUnit&&t.stepCount&&(t.to=t.from+t.stepUnit*t.stepCount),t.stepCount||(t.stepCount=n/t.stepUnit),t.stepUnit||(t.stepUnit=n/t.stepCount),t.runningInterval&&(t.stepInterval=t.runningInterval/t.stepCount),n&&t.stepUnit>n&&(t.stepUnit=n,t.stepCount=1),t.stepInterval<10&&(s=10/t.stepInterval,t.stepInterval*=s,t.stepUnit*=s,t.stepCount/=s),this.textBackup=e.text(),this.element=e,this.options=t,this.stepper=null,this.current=t.from,this.finished=!1,this.element.addClass(t.class),this.fire("onCreate"),this.options.autoStart&&this.start()};t.prototype={constructor:t,fire:function(t){e.isFunction(this.options[t])&&this.options[t](this.element,this.options,this.current)},stop:function(){if(!this.stepper||this.finished)return;this.stepper=clearInterval(this.stepper),this.fire("onStop")},start:function(){if(this.stepper||this.finished)return;this.render(),this.stepper=setInterval(e.proxy(this.step,this),this.options.stepInterval),this.fire("onStart")},step:function(){if(this.options.from+this.options.to?this.options.from<this.options.to?this.current+=this.options.stepUnit:this.options.from>this.options.to&&(this.current-=this.options.stepUnit):this.current+=this.options.stepUnit,this.options.from<this.options.to){if(this.current>this.options.to)return this.completed()}else if(this.options.from>this.options.to&&this.current<this.options.to)return this.completed();this.fire("onStep"),this.render()},completed:function(){var e=Math.abs(this.options.from-this.options.to);e&&this.options.current!==this.options.to&&(this.current=this.options.to,this.render()),this.stop(),this.finished=!0,this.fire("onComplete"),this.options.autoRemove&&this.remove()},remove:function(){this.fire("onRemove"),e.removeData(this.element,"numinate"),this.element.text(this.textBackup?this.textBackup:""),this.element.removeClass(this.options.class)},render:function(){this.element.text(this.options.format.replace(/%counter%/,this.current.toFixed(this.options.precision)))},restart:function(){this.finished=!1,this.current=this.options.from,this.stop(),this.start()}},e.fn.numinate=function(s){var o;return typeof s=="object"?(s=e.extend(!0,{},n,s),o="init"):typeof s=="string"&&(o=s),this.each(function(){var n=e(this);o=="init"?n.data("numinate",new t(n,s)):n.data("numinate")[o]()})},e.fn.numinate.defaults=n,e.fn.numinate.Plugin=t})